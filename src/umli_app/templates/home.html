{% extends 'base.html' %}

{% block content %}

    <div class="col-md-12 offset-md-0"> 
    
    {% if user.is_authenticated %}

      {% if uml_models %}
      
      <table class="table table-striped table-hover table-bordered mt-4">
          <thead class="table-dark">
              <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Name</th>
                  <th scope="col">File path</th>
                  <th scope="col">Update Date</th>
                  <th scope="col">Metadata</th>
                  <th scope="col">Actions</th>
              </tr>
          </thead>
          <tbody>
              {% for uml_model in uml_models %}
              <tr>
                  <td>{{ uml_model.id }}</td>
                  <td>{{ uml_model.name }}</td>
                  <td>{{ uml_model.file }}</td>
                  <td>{{ uml_model.tech_valid_from }}</td>
                  <td>{{ uml_model.metadata.data|pprint }}</td>
                  <td>
                      <a href="" class="btn btn-secondary">View</a>
                      <a href="" class="btn btn-secondary">Edit</a>
                      <a href="" class="btn btn-danger">Delete</a>
                  </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
      {% endif %}
    
    {% else %}

    <h1 class="mb-4 mt-4">Login</h1>
    <form method="POST" action="{% url 'home' %}">
        {% csrf_token %}
        <form>
            <div class="mb-3">
              <input type="text" class="form-control" name="username" placeholder="Username" required>
            </div>
            <div class="mb-3">
              <input type="password" class="form-control" name="password" placeholder="Password" required>
            </div>
            <button type="submit" class="btn btn-secondary mt-4">Login</button>
        </form>
    </form>

    {% endif %}

    </div>

{% endblock %}
